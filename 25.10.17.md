---
date: 2025-10-17
title: "Daily Log â€” Meta Pixel + CAPI Integration Milestone"
project: "Life Insurance Funnel (Dan_Elkins_Pilot)"
tags: ["meta", "capi", "pixel", "perspective", "funnel", "andromeda"]
---

## ğŸ§­ Overview
Todayâ€™s focus was on **establishing a clean data foundation** for our life insurance funnel under the Andromeda standard â€” ensuring Meta receives accurate, deduplicated signals from both browser and server sides through Perspectiveâ€™s native Conversion API integration.

---

## ğŸ§© Technical Progress

**Objective:** Create a verified Pixel + CAPI connection inside Perspective for Dataset `Dan_Elkins_Pilot`.

| Component | Status | Notes |
|------------|---------|-------|
| **Pixel ID** | âœ… `723200594140264` | Installed via Perspective Meta integration |
| **Dataset** | âœ… `Dan_Elkins_Pilot` | Source of Dataset Quality API access token |
| **Access Token** | âœ… Generated via Dataset Quality API | Added to Perspective and saved successfully |
| **CAPI Connection** | âœ… Verified | Received â€œServerâ€ events in Meta Test Events |
| **Deduplication** | âœ… Confirmed | Shared `event_id` between browser + server events |
| **Test Event Code** | âœ… Used + Removed | Enabled real-time CAPI verification |
| **Diagnostics** | ğŸ•’ To Monitor | Expect quality metrics after 24â€“48h of traffic |
| **Event Mapping** | â¸ Deferred | Pending finalized funnel flow and naming |

---

## ğŸ§  Learnings & Clarifications

- **Browser vs. Server Events:**  
  - Browser = Meta Pixel firing from the userâ€™s device.  
  - Server = Perspective sending CAPI events from its backend.  
  - Both now arrive with identical timestamps and unique `event_id` values.

- **Deduplication Process:**  
  Meta merges identical `event_id` pairs (browser + server) and counts them as a single event.  
  Duplicates seen in Test Events are for debugging only â€” the live dataset automatically filters them out.

- **Perspective Integration Behavior:**  
  - Test code used to confirm server connection (`test_event_code`).  
  - Partner integration ensures browser data flows instantly.  
  - Server events validated through access token and dataset match.

---

## ğŸ§¾ Proof of Life

- **Browser Events:**  
  Confirmed via Perspective â€œPartner Integration.â€  
- **Server Events:**  
  Confirmed via â€œManual Setup (API)â€ â€” timestamp aligned.  
- **Deduplication:**  
  Active; Meta processes one unified event through shared `event_id`.

---

## ğŸš€ Outcome

- The Life Insurance funnel now has a **fully operational, clean dual-signal pipeline** (Pixel + CAPI).  
- This establishes the **data trust layer** for Andromeda-level optimization â€” ready for creative testing and behavioral segmentation.

---

## ğŸ”­ Next Steps

1. **Monitor Diagnostics**
   - Check for Event Match Quality (target 6+)
   - Review deduplication rate after 24â€“48 hours

2. **Funnel Architecture**
   - Define user journey + quiz logic  
   - Identify zero-party data fields for segmentation  
   - Outline emotional-state mapping for ad creative flow

3. **Event Mapping (later)**
   - Assign finalized Perspective events to standard Meta events:  
     - `Page Viewed` â†’ `PageView`  
     - `Funnel Started` â†’ `ViewContent`  
     - `Funnel Completed` â†’ `Lead`  
     - `Call Booked` â†’ `Schedule`

4. **Security + Hygiene**
   - Add funnel domains to dataset Allow List once URLs are fixed  
   - Store access token securely in `.env` (ignored by Git)

---

## ğŸ§± Reflection

Clean data equals leverage.  
Todayâ€™s work laid the invisible infrastructure that will train Metaâ€™s machine learning on *real user behavior*, not noise.  
Next focus: **design the funnel logic that gives meaning to that data.**  
Once structure + messaging align, every campaign we launch will compound instead of restart from zero.

---
